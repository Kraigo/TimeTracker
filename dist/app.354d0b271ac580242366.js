webpackJsonp([0],{0:function(t,e,n){"use strict";var r=n(1),o=n(23);n(581),r.platformBrowserDynamic().bootstrapModule(o.AppModule)},23:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(21),s=n(24),c=n(28),l=n(29),p=n(245),d=n(257),u=n(259),f=n(563),h=n(566),m=n(569),b=n(573),y=n(545),v=n(580),g=function(){function AppModule(){}return AppModule=r([a.NgModule({imports:[i.BrowserModule,s.FormsModule,c.HttpModule,v.routing,l.ModalModule,l.DropdownModule],declarations:[d.AppComponent,u.DashboardComponent,u.DashboardFooterComponent,f.LoginComponent,h.ProfileComponent,m.ReportComponent,b.TeamComponent,b.MembersModalComponent,b.ProjectsModalComponent,u.ExpandFocus,u.InputDate,y.TimeToDatePipe,y.TaskProjectPipe,y.TasksTimePipe,y.ArrayFilterPipe,m.GroupTasksByWeekPipe],providers:[y.RepositoryService,p.HttpClient],bootstrap:[d.AppComponent]}),o("design:paramtypes",[])],AppModule)}();e.AppModule=g},245:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(246),s=n(28),c=n(5),l=function(){function HttpClient(t,e){this.http=t,this.router=e}return HttpClient.prototype.get=function(t,e){var n=this;return this.http.get(t,e)["catch"](function(t){return n.handleError(t)})},HttpClient.prototype.post=function(t,e){var n=this;return this.http.post(t,e)["catch"](function(t){return n.handleError(t)})},HttpClient.prototype.put=function(t,e){var n=this;return this.http.put(t,e)["catch"](function(t){return n.handleError(t)})},HttpClient.prototype["delete"]=function(t){var e=this;return this.http["delete"](t)["catch"](function(t){return e.handleError(t)})},HttpClient.prototype.handleError=function(t){var e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return console.error(e),403!=t.status&&401!=t.status||this.router.navigateByUrl("/login"),c.Observable["throw"](e)},HttpClient=r([a.Injectable(),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof s.Http&&s.Http)&&t||Object,"function"==typeof(e="undefined"!=typeof i.Router&&i.Router)&&e||Object])],HttpClient);var t,e}();e.HttpClient=l},257:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function AppComponent(t){this.viewContainerRef=t}return AppComponent=r([a.Component({selector:"tt-app",template:n(258),providers:[]}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.ViewContainerRef&&a.ViewContainerRef)&&t||Object])],AppComponent);var t}();e.AppComponent=i},258:function(t,e){t.exports='<nav class="navbar navbar-default">\r\n    <div class="container">\r\n\r\n        <div class="navbar-header">\r\n            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar" aria-expanded="false">\r\n                    <span class="sr-only">Toggle navigation</span>\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                </button>\r\n            <a class="navbar-brand" href="/">TimeTracker</a>\r\n        </div>\r\n\r\n        <div class="collapse navbar-collapse" id="main-navbar">\r\n            <ul class="nav navbar-nav navbar-right">\r\n                <li routerLinkActive="active" routerLinkActiveOptions="{exact:true}">\r\n                    <a routerLink="dashboard" data-toggle="collapse" data-target="#main-navbar">Home</a>\r\n                </li>\r\n                <li routerLinkActive="active" routerLinkActiveOptions="{exact:true}">\r\n                    <a routerLink="report" data-toggle="collapse" data-target="#main-navbar">Report</a>\r\n                </li>\r\n                <li routerLinkActive="active" routerLinkActiveOptions="{exact:true}">\r\n                    <a routerLink="team" data-toggle="collapse" data-target="#main-navbar">Team</a>\r\n                </li>\r\n\r\n                <li class="dropdown" dropdown>\r\n                    <a class="dropdown-toggle" role="button" dropdownToggle>\r\n                             Account <b class="caret"></b>\r\n                        </a>\r\n                    <ul class="dropdown-menu" dropdownMenu>\r\n                        <li routerLinkActive="active" routerLinkActiveOptions="{exact:true}">\r\n                            <a routerLink="profile" data-toggle="collapse" data-target="#main-navbar">Profile</a>\r\n                        </li>\r\n                        <li class="divider"></li>\r\n                        <li><a href="/auth/logout"><i class="fa fa-sign-out"></i> Logout</a></li>\r\n                    </ul>\r\n                </li>\r\n\r\n            </ul>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</nav>\r\n\r\n<router-outlet></router-outlet>'},259:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(260)),__export(n(559)),__export(n(560)),__export(n(561))},260:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(246),s=n(261),c=n(545),l=n(545),p=n(54),d=function(){function DashboardComponent(t,e){var n=this;this.router=t,this.repository=e,this.week=[],this.today=p().startOf("day").toDate(),this.projects=[],this.tasksSubject$=new s.Subject,this.taskUpdateSubject$=new s.Subject,this.tasksSubject$.debounceTime(400).switchMap(function(t){return n.repository.getTasks(t)}).subscribe(function(t){return n.setTasks.call(n,t)}),this.taskUpdateSubject$.debounceTime(600).subscribe(function(t){return n.updateTask.call(n,t)})}return DashboardComponent.prototype.ngOnInit=function(){this.viewToday(),this.getProjects(),this.getTasks()},DashboardComponent.prototype.selectDay=function(t){this.currentDay=t},DashboardComponent.prototype.fillWeek=function(){var t=this;this.week.length=0;for(var e=0;e<7;e++){var n=p(this.startWeek).add(e,"day").toDate();this.week.push(new c.Day(n))}this.week.forEach(function(e){p().startOf("day").isSame(p(e.date).startOf("day"))&&(e.isToday=!0,t.selectDay(e))})},DashboardComponent.prototype.getTasks=function(){this.tasksSubject$.next(this.startWeek)},DashboardComponent.prototype.setTasks=function(t){var e=this;t.forEach(function(t){for(var n,r=0;r<e.week.length;r++){n=e.week[r];var o=p(n.date).startOf("day"),a=p(t.date).startOf("day");o.isSame(a)&&n.tasks.push(t)}t.isTracking&&(e.currentTask=t)}),this.week.forEach(function(t){t.tasks.push(new c.Task({date:t.date}))})},DashboardComponent.prototype.addTask=function(t){t.tasks.push(new c.Task({date:t.date}))},DashboardComponent.prototype.removeTask=function(t,e){this.repository.removeTask(t).subscribe(function(){e.tasks.splice(e.tasks.indexOf(t),1)}),this.currentDay.tasks.splice(this.currentDay.tasks.indexOf(t),1)},DashboardComponent.prototype.trackTask=function(t){t.isTracking?(this.currentTask=null,t.stop(),this.week.forEach(function(e){e.tasks.forEach(function(e){e.isTracking&&e._id==t._id&&e.stop()})})):(this.currentTask&&this.currentTask.stop(),this.currentTask=t,t.start()),this.updateTask(t)},DashboardComponent.prototype.taskChanged=function(t){this.taskUpdateSubject$.next(t)},DashboardComponent.prototype.updateTask=function(t){this.repository.saveTask(t).subscribe(function(e){e._id&&(t._id=e._id)})},DashboardComponent.prototype.changeWeek=function(t){var e=this.week.indexOf(this.currentDay);this.startWeek=p(this.currentDay.date).add(t,"weeks").isoWeekday("Monday").toDate(),this.fillWeek(),this.getTasks(),this.selectDay(this.week[e])},DashboardComponent.prototype.getProjects=function(){var t=this;this.repository.getProjects().subscribe(function(e){return t.projects=e})},DashboardComponent.prototype.viewDay=function(t){this.startWeek=p(t).isoWeekday("Monday").toDate(),this.fillWeek(),this.getTasks()},DashboardComponent.prototype.viewToday=function(){var t=this,e=p().startOf("day");this.startWeek&&e.isSame(this.startWeek,"week")?this.week.forEach(function(n){e.isSame(n.date)&&t.selectDay(n)}):this.viewDay(this.today)},DashboardComponent.prototype.weekMode=function(){},DashboardComponent=r([a.Component({selector:"tt-dashboard",template:n(558),providers:[l.RepositoryService]}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.Router&&i.Router)&&t||Object,"function"==typeof(e="undefined"!=typeof l.RepositoryService&&l.RepositoryService)&&e||Object])],DashboardComponent);var t,e}();e.DashboardComponent=d},545:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(546)),__export(n(547)),__export(n(548)),__export(n(549)),__export(n(550)),__export(n(551)),__export(n(552)),__export(n(553)),__export(n(554)),__export(n(555)),__export(n(556)),__export(n(557))},546:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(28),s=n(547),c=n(245),l=function(){function RepositoryService(t){this.http=t,this.baseUrl="/api",this.tasksUrl=this.baseUrl+"/tasks",this.projectsUrl=this.baseUrl+"/projects",this.teamsUrl=this.baseUrl+"/teams",this.invitationsUrl=this.baseUrl+"/invitations"}return RepositoryService.prototype.getUser=function(){var t=this.baseUrl+"/user";return this.http.get(t).map(function(t){return t.json()})},RepositoryService.prototype.getTasks=function(t){var e=new i.URLSearchParams;return e.set("weekStart",t?t.toISOString():null),this.http.get(this.tasksUrl,{search:e}).map(function(t){return t.json().map(function(t){return new s.Task(t)})})},RepositoryService.prototype.getActiveTask=function(t){return this.http.get(this.tasksUrl).map(function(t){return t.json()})},RepositoryService.prototype.saveTask=function(t){var e={description:t.description,project:t.project,time:t.time,date:t.date,lastTrack:t.lastTrack,isTracking:t.isTracking};return t._id?this.http.put(this.tasksUrl+("/"+t._id),e).map(function(t){return t.json()}):this.http.post(this.tasksUrl,e).map(function(t){return t.json()})},RepositoryService.prototype.removeTask=function(t){return this.http["delete"](this.tasksUrl+("/"+t._id)).map(function(t){return t.text()})},RepositoryService.prototype.getTeams=function(){return this.http.get(this.teamsUrl).map(function(t){return t.json()})},RepositoryService.prototype.addTeam=function(t){var e={title:t};return this.http.post(this.teamsUrl,e).map(function(t){return t.json()})},RepositoryService.prototype.removeTeam=function(t){return this.http["delete"](this.teamsUrl+("/"+t._id)).map(function(t){return t.text()})},RepositoryService.prototype.removeTeamMember=function(t,e){var n={team:t._id,user:e._id};return this.http.put(this.teamsUrl+"/leave",n).map(function(t){return t.text()})},RepositoryService.prototype.getProjects=function(){return this.http.get(this.projectsUrl).map(function(t){return t.json()})},RepositoryService.prototype.addProject=function(t,e){var n={team:t._id,title:e};return this.http.post(this.projectsUrl,n).map(function(t){return t.json()})},RepositoryService.prototype.removeProject=function(t){return this.http["delete"](this.projectsUrl+("/"+t._id)).map(function(t){return t.text()})},RepositoryService.prototype.getInvitations=function(){return this.http.get(this.invitationsUrl).map(function(t){return t.json()})},RepositoryService.prototype.addInvitation=function(t,e){var n={team:t._id,email:e};return this.http.post(this.invitationsUrl,n).map(function(t){return t.json()})},RepositoryService.prototype.acceptInvitation=function(t){var e={id:t._id};return this.http.put(this.invitationsUrl+"/accept",e).map(function(t){return t.json()})},RepositoryService.prototype.removeInvitation=function(t){return this.http["delete"](this.invitationsUrl+("/"+t._id)).map(function(t){return t.text()})},RepositoryService=r([a.Injectable(),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof c.HttpClient&&c.HttpClient)&&t||Object])],RepositoryService);var t}();e.RepositoryService=l},547:function(t,e){"use strict";var n=function(){function Task(t){this.time=0,this.isTracking=!1,this.date=new Date,Object.assign(this,{},t),this.lastTrack&&(this.date=new Date(this.date)),this.lastTrack&&(this.lastTrack=new Date(this.lastTrack)),this.isTracking&&(this.update(),this.start())}return Task.prototype.start=function(){var t=this;this.lastTrack=new Date,this.isTracking=!0,this.timer=setInterval(function(){t.update()},1e3)},Task.prototype.stop=function(){clearInterval(this.timer),this.update(),this.time-=this.time%6e4,this.lastTrack=null,this.isTracking=!1},Task.prototype.update=function(){if(this.lastTrack){var t=new Date,e=t.getTime()-this.lastTrack.getTime();this.lastTrack=t,this.time=Math.floor(this.time)+Math.floor(e)}},Task}();e.Task=n},548:function(t,e){"use strict";var n=function(){function Day(t){void 0===t&&(t=new Date),this.isToday=!1,this.tasks=[],this.date=t}return Day.prototype.tasksTime=function(){return this.tasks.map(function(t){return t.time}).reduce(function(t,e){return t+=parseInt(e.toString())},0)},Day}();e.Day=n},549:function(t,e){"use strict";var n=function(){function Project(){}return Project}();e.Project=n},550:function(t,e){"use strict";var n=function(){function User(){}return User}();e.User=n},551:function(t,e){"use strict";var n=function(){function Invitation(){}return Invitation}();e.Invitation=n},552:function(t,e){"use strict";var n=function(){function Team(){this.users=[],this.invitations=[],this.projects=[]}return Team}();e.Team=n},553:function(t,e,n){"use strict";var r=n(54),o=function(){function Week(t){this.date=t,this.tasks=[];var e=r(this.date).isoWeekday("Monday");this.date=e.toDate(),this.number=e.week(),this.dateEnd=e.add(6,"days").toDate()}return Week}();e.Week=o},554:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function TimeToDatePipe(){}return TimeToDatePipe.prototype.transform=function(t){void 0===t&&(t=0);var e=new Date(Date.UTC(1970,0,1,0,0,0,t)),n=new Date,r=n.getTimezoneOffset();return e.setMinutes(e.getMinutes()+r),e},TimeToDatePipe=r([a.Pipe({name:"timeToDate"}),o("design:paramtypes",[])],TimeToDatePipe)}();e.TimeToDatePipe=i},555:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function TaskProjectPipe(){}return TaskProjectPipe.prototype.transform=function(t,e){return t.filter(function(t){return t._id===e.project})[0]||null},TaskProjectPipe=r([a.Pipe({name:"taskProject"}),o("design:paramtypes",[])],TaskProjectPipe)}();e.TaskProjectPipe=i},556:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function TasksTimePipe(){}return TasksTimePipe.prototype.transform=function(t){return t.map(function(t){return"number"==typeof t.time?t.time:null}).reduce(function(t,e){return t+=Math.floor(e)},0)},TasksTimePipe=r([a.Pipe({name:"tasksTime",pure:!1}),o("design:paramtypes",[])],TasksTimePipe)}();e.TasksTimePipe=i},557:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function ArrayFilterPipe(){}return ArrayFilterPipe.prototype.transform=function(t,e){return t.filter(function(t){for(var n in e){if(!e[n])return!0;if(t[n]!==e[n])return!1}return!0})},ArrayFilterPipe=r([a.Pipe({name:"filter",pure:!1}),o("design:paramtypes",[])],ArrayFilterPipe)}();e.ArrayFilterPipe=i},558:function(t,e){t.exports='<div class="container">\r\n\r\n    <nav>\r\n        <ul class="pager">\r\n            <li class="previous"><a (click)="changeWeek(-1)"><span>&larr;</span> Previous week</a></li>\r\n            <li><button class="btn btn-default btn-xs" (click)="viewToday()">Today</button></li>\r\n            <!--<li><button class="btn btn-default btn-xs" (click)="weekMode()">Week view</button></li>-->\r\n            <li class="next"><a (click)="changeWeek(1)">Next week <span>&rarr;</span></a></li>\r\n        </ul>\r\n    </nav>\r\n\r\n    <ul class="nav nav-tabs nav-justified">\r\n        <li *ngFor="let day of week; let i=index" (click)="selectDay(day)" [class.active]="day === currentDay" [class.tab-primary]="day.isToday">\r\n            <a>\r\n                <b>{{ i > 4 ? (day.date | date : \'EEE\') : (day.date | date : \'EEEE\')}}</b>, <small>{{day.date | date : \'MMM dd\'}}</small>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n\r\n    <div class="panel" [class.panel-primary]="currentDay.isToday" [class.panel-default]="!currentDay.isToday" *ngIf="currentDay">\r\n        <div class="panel-heading">\r\n            {{currentDay.date | date : \'MMMM d, yyyy\'}}\r\n            <span class="pull-right">Total: {{currentDay.tasks | tasksTime | timeToDate | date : \'HH:mm:ss\'}}</span>\r\n        </div>\r\n        <!--<tasks-table day="currentDay"></tasks-table>-->\r\n\r\n        <div class="flex-table">\r\n            <div class="flex-row" *ngFor="let task of currentDay.tasks">\r\n                <div class="flex-cell flex-cell_nogrow">\r\n                    <button class="btn btn-default btn-delete btn-sm" (click)="removeTask(task, day)">\r\n                        <i class="glyphicon glyphicon-trash"></i>\r\n                    </button>\r\n                </div>\r\n\r\n                <div class="flex-cell" style="flex-basis: 200px">\r\n                    <select class="form-control input-sm" [(ngModel)]="task.project" (ngModelChange)="taskChanged(task)">\r\n                        <option *ngFor="let project of projects" [ngValue]="project._id">{{project.title}}</option>\r\n                    </select>\r\n                </div>\r\n\r\n                <div class="flex-cell flex-cell_wrap flex-cell_grow">\r\n                    <textarea expandFocus type="text" class="form-control input-sm noresize" [(ngModel)]="task.description" (ngModelChange)="taskChanged(task)"></textarea>\r\n                </div>\r\n\r\n                <div class="flex-cell" style="flex-basis: 140px">\r\n                    <div class="input-group">\r\n                        <input type="text" class="form-control input-sm" [(ngModel)]="task.time" [disabled]="task.isTracking" (ngModelChange)="taskChanged(task)" inputDate/>\r\n\r\n                        <span class="input-group-btn">\r\n                            <button class="btn btn-secondary btn-sm" type="button" (click)="trackTask(task)" [class.btn-warning]="task.isTracking">\r\n                                <i class="glyphicon glyphicon-time"></i>\r\n                            </button>\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class="flex-row">\r\n                <div class="flex-cell flex-cell_grow">\r\n                    <button (click)="addTask(currentDay)" class="btn btn-default btn-block">Add more</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<tt-dashboard-footer [task]="currentTask" [projects]="projects" (trackTackEvent)="trackTask($event)" (taskChangedEvent)="taskChanged($event)" (gotoTaskDate)="viewDay($event)"></tt-dashboard-footer>'},559:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function ExpandFocus(t,e){this.el=t,this.renderer=e,this.expand(1),t.nativeElement.classList.add("expand-focus")}return ExpandFocus.prototype.oFocus=function(){this.expand(2)},ExpandFocus.prototype.onBlur=function(){this.expand(1)},ExpandFocus.prototype.expand=function(t){this.renderer.setElementAttribute(this.el.nativeElement,"rows",t.toString())},r([a.HostListener("focus"),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],ExpandFocus.prototype,"oFocus",null),r([a.HostListener("blur"),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],ExpandFocus.prototype,"onBlur",null),ExpandFocus=r([a.Directive({selector:"[expandFocus]"}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof a.ElementRef&&a.ElementRef)&&t||Object,"function"==typeof(e="undefined"!=typeof a.Renderer&&a.Renderer)&&e||Object])],ExpandFocus);var t,e}();e.ExpandFocus=i},560:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(24),s=function(){function InputDate(t){var e=this;this.control=t,this.control.valueChanges.subscribe(function(t){return e.onInputChange(t)})}return InputDate.prototype.ngOnInit=function(){this.setViewValue()},InputDate.prototype.onInputChange=function(t){if("number"==typeof t){var e=this.control.viewModel,n=this.modelToView(e);this.control.valueAccessor.writeValue(n)}},InputDate.prototype.onBlur=function(){var t=this.control.viewModel.toString(),e=this.viewToModel(t),n=this.modelToView(e);this.control.valueAccessor.writeValue(n),this.control.viewToModelUpdate(e)},InputDate.prototype.viewToModel=function(t){var e=0,n=0,r=0,o=t.split(":"),a=t.split("."),i=t.split(" ");return o.length>1?(n=o[0],r=o[1]||0):a.length>1?(n=a[0]||0,r=a[1]||0,r=Math.floor(60*parseFloat("0."+r))):i.length>1?(n=i[0]||0,r=i[1]||0):n=parseInt(t),1===r.length&&(r+="0"),n=n>60?0:n,r=r>60?0:r,e+=60*parseInt(n)*60,e+=60*parseInt(r),1e3*e},InputDate.prototype.modelToView=function(t){var e=Math.floor(t/1e3/60)%60,n=Math.floor(t/1e3/3600)%60;e=1===e.toString().length?"0"+e:e,n=1===n.toString().length?"0"+n:n;var r=n+":"+e;return r},InputDate.prototype.setViewValue=function(){var t=this,e=this.control.model,n=this.modelToView(e);setTimeout(function(){return t.control.valueAccessor.writeValue(n)})},InputDate=r([a.Directive({selector:"[ngModel][inputDate]",host:{"(ngModelChange)":"onInputChange($event)","(blur)":"onBlur($event)"}}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.NgModel&&i.NgModel)&&t||Object])],InputDate);var t}();e.InputDate=s},561:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(545),s=function(){function DashboardFooterComponent(){this.trackTackEvent=new a.EventEmitter,this.taskChangedEvent=new a.EventEmitter,this.gotoTaskDate=new a.EventEmitter}return DashboardFooterComponent.prototype.ngOnInit=function(){},DashboardFooterComponent.prototype.trackTask=function(t){this.trackTackEvent.emit(t)},DashboardFooterComponent.prototype.taskChanged=function(t){this.taskChangedEvent.emit(t)},DashboardFooterComponent.prototype.gotoTask=function(){this.gotoTaskDate.emit(this.task.date)},r([a.Input(),o("design:type","function"==typeof(t="undefined"!=typeof i.Task&&i.Task)&&t||Object)],DashboardFooterComponent.prototype,"task",void 0),r([a.Input(),o("design:type","function"==typeof(e="undefined"!=typeof i.Task&&i.Task)&&e||Object)],DashboardFooterComponent.prototype,"projects",void 0),r([a.Output(),o("design:type","function"==typeof(s="undefined"!=typeof a.EventEmitter&&a.EventEmitter)&&s||Object)],DashboardFooterComponent.prototype,"trackTackEvent",void 0),r([a.Output(),o("design:type","function"==typeof(c="undefined"!=typeof a.EventEmitter&&a.EventEmitter)&&c||Object)],DashboardFooterComponent.prototype,"taskChangedEvent",void 0),r([a.Output(),o("design:type","function"==typeof(l="undefined"!=typeof a.EventEmitter&&a.EventEmitter)&&l||Object)],DashboardFooterComponent.prototype,"gotoTaskDate",void 0),DashboardFooterComponent=r([a.Component({selector:"tt-dashboard-footer",template:n(562),animations:[a.trigger("currentTask",[a.state("in",a.style({transform:"translateY(0)"})),a.transition("void => *",[a.style({transform:"translateY(100%)"}),a.animate(100,a.style({transform:"translateY(0%)"}))]),a.transition("* => void",[a.style({transform:"translateY(0%)"}),a.animate(100,a.style({transform:"translateY(100%)"}))])])]}),o("design:paramtypes",[])],DashboardFooterComponent);var t,e,s,c,l}();e.DashboardFooterComponent=s},562:function(t,e){t.exports='<footer class="footer navbar-fixed-bottom slide-top slide-top" *ngIf="task" [@currentTask]="task" style="background-color: whitesmoke; border-top: 1px solid #008cba;">\r\n    <div class="container">\r\n        <div class="flex-row">\r\n            <div class="flex-cell" style="flex-basis: 200px">\r\n                <select class="form-control input-sm" [(ngModel)]="task.project" (ngModelChange)="taskChanged(task)">\r\n                    <option *ngFor="let project of projects" [ngValue]="project._id">{{project.title}}</option>\r\n                </select>\r\n            </div>\r\n\r\n            <div class="flex-cell flex-cell_wrap flex-cell_grow">\r\n                <textarea type="text" class="form-control input-sm noresize" [(ngModel)]="task.description" (ngModelChange)="taskChanged(task)" rows="1"></textarea>\r\n            </div>\r\n\r\n            <div class="flex-cell" style="flex-basis: 140px">\r\n                <div class="input-group">\r\n                    <input type="text" class="form-control input-sm" [(ngModel)]="task.time" [disabled]="task.isTracking" (ngModelChange)="taskChanged(task)" inputDate/>\r\n\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-secondary btn-sm" type="button" (click)="trackTask(task)" [class.btn-warning]="task.isTracking">\r\n                            <i class="glyphicon glyphicon-time"></i>\r\n                        </button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="flex-cell flex-cell_nogrow">\r\n                <button class="btn btn-primary btn-sm" (click)="gotoTask()">\r\n                        <i class="glyphicon glyphicon-arrow-up"></i>\r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</footer>'},563:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(564))},564:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=function(){function LoginComponent(){}return LoginComponent=r([a.Component({selector:"tt-login",template:n(565)}),o("design:paramtypes",[])],LoginComponent)}();e.LoginComponent=i},565:function(t,e){t.exports='<div class="container">\r\n    <div class="jumbotron text-center">\r\n        <h1>Time tracker</h1>\r\n        <p class="lead">Always know how much time you spend at work</p>\r\n        <br>\r\n        <p>\r\n            <a class="btn btn-social btn-danger btn-lg" href="/auth/google" role="button">\r\n                <i class="fa fa-google"></i> Login with Google\r\n            </a>\r\n        </p>\r\n    </div>\r\n</div>'},566:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);
}__export(n(567))},567:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(545),s=function(){function ProfileComponent(t){this.repository=t}return ProfileComponent.prototype.ngOnInit=function(){var t=this;this.repository.getUser().subscribe(function(e){return e.avatar=e.avatar.replace(/\?sz=\d*$/,""),t.currentUser=e})},ProfileComponent=r([a.Component({selector:"tt-profile",template:n(568),providers:[i.RepositoryService]}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.RepositoryService&&i.RepositoryService)&&t||Object])],ProfileComponent);var t}();e.ProfileComponent=s},568:function(t,e){t.exports='<div class="container">\r\n\r\n    <div class="page-header">\r\n        <h2>Profile info</h2>\r\n    </div>\r\n    <div class="row" *ngIf="currentUser">\r\n        <div class="col-md-4">\r\n            <div class="text-center">\r\n                <img [src]="currentUser.avatar" alt="" class="avatar img-circle img-thumbnail">\r\n            </div>\r\n        </div>\r\n        <div class="col-md-8">\r\n            <h4>Bio</h4>\r\n            <form class="form-horizontal" ngNoForm>\r\n                <div class="form-group">\r\n                    <label class="col-lg-3 control-label">First Name</label>\r\n                    <div class="col-lg-8"><input type="text" class="form-control" [(ngModel)]="currentUser.firstName" [disabled]="true"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-3 control-label">Last Name</label>\r\n                    <div class="col-lg-8"><input type="text" class="form-control" [(ngModel)]="currentUser.lastName" [disabled]="true"></div>\r\n                </div>\r\n                <div class="form-group">\r\n                    <label class="col-lg-3 control-label">Email</label>\r\n                    <div class="col-lg-8"><input type="text" class="form-control" [(ngModel)]="currentUser.email" [disabled]="true"></div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>'},569:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(570)),__export(n(572))},570:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(545),s=function(){function ReportComponent(t){this.repository=t,this.tasks=[],this.projects=[],this.weeks=[],this.search={project:""}}return ReportComponent.prototype.ngOnInit=function(){var t=this;this.repository.getTasks().subscribe(function(e){t.tasks=t.tasks.concat(e)}),this.repository.getProjects().subscribe(function(e){return t.projects=t.projects.concat(e)})},ReportComponent=r([a.Component({selector:"tt-report",template:n(571)}),o("design:paramtypes",["function"==typeof(t="undefined"!=typeof i.RepositoryService&&i.RepositoryService)&&t||Object])],ReportComponent);var t}();e.ReportComponent=s},571:function(t,e){t.exports='<div class="container">\r\n\t<div class="page-header">\r\n\t\t<h2>Report</h2>\r\n\t</div>\r\n    \r\n\t<div class="well">\r\n\t\t<div class="row">\r\n\t\t\t<div class="col-sm-3">\r\n\t\t\t\t<select class="form-control input-sm" [(ngModel)]="search.project">\r\n                    <option value="">All Projects</option>\r\n                    <option *ngFor="let project of projects" [ngValue]="project._id">{{project.title}}</option>\r\n                </select>\r\n\t\t\t</div>\r\n\t\t\t<div class="col-sm-3"></div>\r\n\t\t\t<div class="col-sm-3"></div>\r\n\t\t\t<div class="col-sm-3"></div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<table class="table">\r\n\t\t<colgroup>\r\n\t\t\t<col width="80px">\r\n\t\t\t<col width="140px">\r\n\t\t\t<col>\r\n\t\t\t<col width="50px">\r\n\t\t</colgroup>\r\n\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th>Date</th>\r\n\t\t\t\t<th>Project</th>\r\n\t\t\t\t<th>Description</th>\r\n\t\t\t\t<th>Time</th>\r\n\t\t\t</tr>\r\n\t\t</thead>\r\n\r\n\r\n\t\t<tbody class="report-tbody" *ngFor="let week of tasks | filter: search | groupTasksByWeek">\r\n            <tr>\r\n                <th colspan="3"><b>{{week.date | date: \'MMM dd\'}} - {{week.dateEnd | date: \'MMM dd\'}} (Week {{week.number}})</b></th>\r\n                <th><b>{{week.tasks | filter: search | tasksTime | timeToDate | date:\'HH:mm\'}}</b></th>\r\n            </tr>\r\n\t\t\t<tr *ngFor="let task of week.tasks">\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{{task.date | date : \'shortDate\'}}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{{(projects | taskProject : task) ? (projects | taskProject : task).title : null}}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>\r\n\t\t\t\t\t{{task.description}}\r\n\t\t\t\t</td>\r\n\t\t\t\t<td>{{task.time | timeToDate | date:\'HH:mm\'}}</td>\r\n\t\t\t</tr>\r\n\t\t</tbody>\r\n\t\t<!--<tbody>\r\n\t\t\t<tr>\r\n\t\t\t\t<td colspan="3" align="right">Total: {{tasks | filter: search | tasksTime | timeToDate | date:\'HH:mm\'}}</td>\r\n\t\t\t</tr>\r\n\t\t</tbody>-->\r\n\t</table>\r\n\r\n\r\n</div>'},572:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(545),s=n(54),c=function(){function GroupTasksByWeekPipe(){}return GroupTasksByWeekPipe.prototype.transform=function(t){return t.sort(function(t,e){var n=new Date(t.date),r=new Date(e.date);return r.getTime()-n.getTime()}).reduce(function(t,e){for(var n=s(e.date).isoWeekday("Monday").startOf("day").toDate(),r=0,o=t;r<o.length;r++){var a=o[r];if(a.date.getTime()==n.getTime())return a.tasks.unshift(e),t}var c=new i.Week(n);return c.tasks.push(e),t.push(c),t},[])},GroupTasksByWeekPipe=r([a.Pipe({name:"groupTasksByWeek"}),o("design:paramtypes",[])],GroupTasksByWeekPipe)}();e.GroupTasksByWeekPipe=c},573:function(t,e,n){"use strict";function __export(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}__export(n(574)),__export(n(576)),__export(n(578))},574:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(29),s=n(545),c=function(){function TeamComponent(t){this.repository=t,this.teams=[],this.invitations=[]}return TeamComponent.prototype.ngOnInit=function(){var t=this;this.repository.getTeams().subscribe(function(e){return t.teams=t.teams.concat(e)}),this.repository.getInvitations().subscribe(function(e){return t.invitations=t.invitations.concat(e)})},TeamComponent.prototype.openMembers=function(t){this.selectedTeam=t,this.membersModal.show()},TeamComponent.prototype.openProjects=function(t){this.selectedTeam=t,this.projectsModal.show()},TeamComponent.prototype.addTeam=function(){var t=this;this.repository.addTeam(this.newTeamTitle).subscribe(function(e){return t.teams.push(e)}),this.newTeamTitle=""},TeamComponent.prototype.removeTeam=function(t){var e=this;this.repository.removeTeam(t).subscribe(function(){e.teams.splice(e.teams.indexOf(t),1)})},TeamComponent.prototype.acceptInvitation=function(t){var e=this;this.repository.acceptInvitation(t).subscribe(function(n){e.invitations.splice(e.invitations.indexOf(t),1),e.teams.push(n)})},r([a.ViewChild("membersModal"),o("design:type","function"==typeof(t="undefined"!=typeof i.ModalDirective&&i.ModalDirective)&&t||Object)],TeamComponent.prototype,"membersModal",void 0),r([a.ViewChild("projectsModal"),o("design:type","function"==typeof(e="undefined"!=typeof i.ModalDirective&&i.ModalDirective)&&e||Object)],TeamComponent.prototype,"projectsModal",void 0),TeamComponent=r([a.Component({selector:"tt-team",template:n(575)}),o("design:paramtypes",["function"==typeof(c="undefined"!=typeof s.RepositoryService&&s.RepositoryService)&&c||Object])],TeamComponent);var t,e,c}();e.TeamComponent=c},575:function(t,e){t.exports='<div class="container">\r\n\r\n    <div class="page-header">\r\n        <h2>Teams</h2>\r\n    </div>\r\n\r\n    <div class="alert alert-info" role="alert" *ngFor="let invitation of invitations">\r\n        You has been invited to team <b>{{invitation.team}}</b>\r\n        <div class="pull-right" style="margin-top: -6px">\r\n            <button class="btn btn-default btn-xs" (click)="acceptInvitation(invitation)">Accept</button>\r\n            <button class="btn btn-danger btn-xs" (click)="refuseInvitation(invitation)">Refuse</button>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class="input-group">\r\n        <input type="text" class="form-control" placeholder="New Team Title" [(ngModel)]="newTeamTitle">\r\n        <span class="input-group-btn">\r\n            <button class="btn btn-default" type="button" (click)="addTeam()">Add Team</button>\r\n        </span>\r\n    </div>\r\n    <br>\r\n\r\n    <div class="panel panel-default" *ngFor="let team of teams">\r\n        <div class="panel-heading">\r\n            Team: <b>{{team.title}}</b>\r\n            <span class="pull-right label label-info" *ngIf="team.isOwner">Owner</span>\r\n        </div>\r\n        <div class="panel-body" *ngIf="team.isOwner">\r\n            <button class="btn btn-primary btn-xs" (click)="openProjects(team)">Projects</button>\r\n            <button class="btn btn-primary btn-xs" (click)="openMembers(team)">Members</button>\r\n            <button class="btn btn-danger btn-xs" (click)="removeTeam(team)">Remove</button>\r\n        </div>\r\n\r\n        <table class="table table-condensed">\r\n            <thead>\r\n                <tr>\r\n                    <th>Projects</th>\r\n                    <th>Tasks</th>\r\n                    <th>Time</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let project of team.projects">\r\n                    <td>\r\n                        {{project.title}}\r\n                    </td>\r\n                    <td>\r\n                        -\r\n                    </td>\r\n                    <td>\r\n                        -\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n    </div>\r\n</div>\r\n\r\n<tt-members-modal #membersModal="modal" [team]="selectedTeam"></tt-members-modal>\r\n<tt-projects-modal #projectsModal="modal" [team]="selectedTeam"></tt-projects-modal>'},576:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(29),s=n(545),c=function(){function MembersModalComponent(t){this.repository=t}return MembersModalComponent.prototype.ngAfterViewInit=function(){},MembersModalComponent.prototype.show=function(){this.modal.show()},MembersModalComponent.prototype.addMember=function(t,e){var n=this;this.repository.addInvitation(t,e).subscribe(function(t){n.newMemberEmail="",n.team.invitations.push(t)})},MembersModalComponent.prototype.removeMember=function(t,e){var n=this;this.repository.removeTeamMember(t,e).subscribe(function(t){n.team.users.splice(n.team.users.indexOf(e),1)})},MembersModalComponent.prototype.removeInvitation=function(t){var e=this;this.repository.removeInvitation(t).subscribe(function(n){e.team.invitations.splice(e.team.invitations.indexOf(t),1)})},r([a.ViewChild("modal"),o("design:type","function"==typeof(t="undefined"!=typeof i.ModalDirective&&i.ModalDirective)&&t||Object)],MembersModalComponent.prototype,"modal",void 0),r([a.Input(),o("design:type","function"==typeof(e="undefined"!=typeof s.Team&&s.Team)&&e||Object)],MembersModalComponent.prototype,"team",void 0),MembersModalComponent=r([a.Component({selector:"tt-members-modal",template:n(577),exportAs:"modal"}),o("design:paramtypes",["function"==typeof(c="undefined"!=typeof s.RepositoryService&&s.RepositoryService)&&c||Object])],MembersModalComponent);var t,e,c}();e.MembersModalComponent=c},577:function(t,e){t.exports='<div bsModal #modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog modal-lg">\r\n        <div class="modal-content" *ngIf="team">\r\n\r\n            <div class="modal-header">\r\n                <button type="button" class="close" aria-label="Close" (click)="modal.hide()">\r\n                    <span aria-hidden="true">&times;</span>\r\n                </button>\r\n                <h4 class="modal-title" id="myModalLabel">The members {{team.title + \'\\\'s\'}}</h4>\r\n            </div>\r\n\r\n            <div class="modal-body">\r\n                <table class="table table-valign table-modal" style="margin: 0">\r\n                    <colgroup>\r\n                        <col width="1">\r\n                        <col>\r\n                        <col>\r\n                        <col width="1">\r\n                    </colgroup>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>Name</th>\r\n                            <th>Email</th>\r\n                            <th>Invitation</th>\r\n                        </tr>\r\n\r\n                        <tr *ngFor="let user of team.users">\r\n                            <td>\r\n                                <button class="btn btn-default btn-delete btn-xs" (click)="removeMember(team, user)">\r\n                                    <i class="glyphicon glyphicon-trash"></i>\r\n                                </button>\r\n                            </td>\r\n                            <td>\r\n                                {{user.firstName + \' \' + user.lastName}}\r\n                            </td>\r\n                            <td>\r\n                                {{user.email}}\r\n                            </td>\r\n                            <td>\r\n                                <span class="label label-success">Accepted</span>\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tr *ngIf="team.users.length === 0">\r\n                            <td colspan="4" align="center">\r\n                                <p>No one member in this team</p>\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tr *ngFor="let invitation of team.invitations">\r\n                            <td>\r\n                                <button class="btn btn-default btn-delete btn-xs" (click)="removeInvitation(invitation)">\r\n                                    <i class="glyphicon glyphicon-trash"></i>\r\n                                </button>\r\n                            </td>\r\n                            <td>\r\n                            </td>\r\n                            <td>\r\n                                {{invitation.email}}\r\n                            </td>\r\n                            <td>\r\n                                <span class="label label-warning">Approval</span>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div class="modal-footer">\r\n                <div class="input-group" [class.has-error]="newMemberModel.invalid && newMemberModel.dirty">\r\n                    <input type="text" class="form-control" placeholder="New member"\r\n                        [(ngModel)]="newMemberEmail" pattern="^[a-zA-Z0-9](\\.?[\\-_a-zA-Z0-9])*@[a-zA-Z0-9\\-]{1,}(\\.[a-zA-Z]{2,}){1,}$"\r\n                        #newMemberModel="ngModel">\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default" type="button" (click)="addMember(team, newMemberEmail)" [disabled]="newMemberModel.invalid">Invite Member</button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},578:function(t,e,n){"use strict";var r=this&&this.__decorate||function(t,e,n,r){var o,a=arguments.length,i=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(i=(a<3?o(i):a>3?o(e,n,i):o(e,n))||i);return a>3&&i&&Object.defineProperty(e,n,i),i},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},a=n(3),i=n(29),s=n(545),c=function(){function ProjectsModalComponent(t){this.repository=t}return ProjectsModalComponent.prototype.ngAfterViewInit=function(){},ProjectsModalComponent.prototype.show=function(){this.modal.show()},ProjectsModalComponent.prototype.addProject=function(t,e){var n=this;this.repository.addProject(t,e).subscribe(function(t){return n.team.projects=t}),this.newProjectTitle=""},ProjectsModalComponent.prototype.removeProject=function(t){var e=this;this.repository.removeProject(t).subscribe(function(n){return e.team.projects.splice(e.team.projects.indexOf(t),1)})},r([a.ViewChild("modal"),o("design:type","function"==typeof(t="undefined"!=typeof i.ModalDirective&&i.ModalDirective)&&t||Object)],ProjectsModalComponent.prototype,"modal",void 0),r([a.Input(),o("design:type","function"==typeof(e="undefined"!=typeof s.Team&&s.Team)&&e||Object)],ProjectsModalComponent.prototype,"team",void 0),ProjectsModalComponent=r([a.Component({selector:"tt-projects-modal",template:n(579),exportAs:"modal"}),o("design:paramtypes",["function"==typeof(c="undefined"!=typeof s.RepositoryService&&s.RepositoryService)&&c||Object])],ProjectsModalComponent);var t,e,c}();e.ProjectsModalComponent=c},579:function(t,e){t.exports='<div bsModal #modal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n        <div class="modal-content" *ngIf="team">\r\n\r\n            <div class="modal-header">\r\n                <button type="button" class="close" aria-label="Close" (click)="modal.hide()">\r\n                    <span aria-hidden="true">&times;</span>\r\n                </button>\r\n                <h4 class="modal-title" id="myModalLabel">The projects {{team.title + \'\\\'s\'}}</h4>\r\n            </div>\r\n\r\n\r\n            <div class="modal-body">\r\n                <table class="table table-valign table-modal" style="margin: 0">\r\n                    <colgroup>\r\n                        <col width="1">\r\n                        <col>\r\n                    </colgroup>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th>Title</th>\r\n                        </tr>\r\n\r\n                        <tr *ngFor="let project of team.projects">\r\n                            <td>\r\n                                <button class="btn btn-default btn-delete btn-xs" (click)="removeProject(project)">\r\n                                                    <i class="glyphicon glyphicon-trash"></i>\r\n                                                </button>\r\n                            </td>\r\n                            <td>\r\n                                {{project.title}}\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tr *ngIf="!team.projects.length">\r\n                            <td colspan="2" align="center">\r\n                                <p>No one ptojects in this team</p>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            <div class="modal-footer">\r\n                <div class="input-group">\r\n                    <input type="text" class="form-control" placeholder="New project" [(ngModel)]="newProjectTitle">\r\n                    <span class="input-group-btn">\r\n                        <button class="btn btn-default" type="button" (click)="addProject(team, newProjectTitle);">Add Project</button>\r\n                    </span>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>'},580:function(t,e,n){"use strict";var r=n(246),o=n(259),a=n(563),i=n(566),s=n(569),c=n(573),l=[{path:"dashboard",component:o.DashboardComponent},{path:"login",component:a.LoginComponent},{path:"profile",component:i.ProfileComponent},{path:"report",component:s.ReportComponent},{path:"team",component:c.TeamComponent},{path:"",redirectTo:"/dashboard",pathMatch:"full"}];e.routing=r.RouterModule.forRoot(l,{useHash:!0})},581:function(t,e,n){var r=n(582);"string"==typeof r&&(r=[[t.id,r,""]]);n(584)(r,{});r.locals&&(t.exports=r.locals)},582:function(t,e,n){e=t.exports=n(583)(),e.push([t.id,".btn-social{position:relative;padding-left:44px;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.btn-social>:first-child{position:absolute;left:0;top:0;bottom:0;width:32px;line-height:34px;font-size:1.6em;text-align:center;border-right:1px solid rgba(0,0,0,.2)}.btn-social.btn-lg{padding-left:61px}.btn-social.btn-lg>:first-child{line-height:59px;width:45px;font-size:1.8em}.btn-social.btn-sm{padding-left:38px}.btn-social.btn-sm>:first-child{line-height:28px;width:28px;font-size:1.4em}.btn-social.btn-xs{padding-left:30px}.btn-social.btn-xs>:first-child{line-height:20px;width:20px;font-size:1.2em}.flex-table .flex-row:not(:first-child){border-top:1px solid #ddd}.flex-row{display:flex;flex-direction:row;justify-content:space-between;flex-wrap:wrap}.flex-cell{padding:8px;flex-grow:1;order:1}@media (min-width:768px){.flex-cell{flex-grow:0}}.flex-cell_grow{flex-grow:1}.flex-cell_nogrow{flex-grow:0}.flex-cell_wrap{order:2;flex-basis:100%}@media (min-width:768px){.flex-cell_wrap{order:1;flex-basis:auto}}.btn.btn-delete{border:0}.btn.btn-delete:active,.btn.btn-delete:hover,.btn.btn-delete:hover:active{color:red}.noresize{resize:none}textarea.expand-focus:focus{margin-bottom:-1.5em;z-index:10;position:relative;box-shadow:0 2px 9px rgba(0,0,0,.15)}.nav-tabs li:hover{cursor:pointer}.nav-tabs .tab-primary a{border-color:#0079a1}.nav-tabs .tab-primary a:hover{border-color:#0079a1 #0079a1 #ddd}.nav-tabs .tab-primary.active:focus>a,.nav-tabs .tab-primary.active:hover>a,.nav-tabs .tab-primary.active>a{border-color:#0079a1 #0079a1 #fff}.nav-tabs .active .badge{visibility:hidden}.nav-tabs .badge{background-color:#bdbdbd}.table-borderless tbody tr td,.table-borderless tbody tr th,.table-borderless thead tr th{border:none}.table-valign tbody tr td,.table-valign tbody tr th,.table-valign thead tr th{vertical-align:middle}.table-modal tbody tr th{border-top:none}.report-tbody>tr:first-child{background-color:#fafafa}",""])},583:function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<e.length;o++){var i=e[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},584:function(t,e,n){function addStylesToDom(t,e){for(var n=0;n<t.length;n++){var o=t[n],a=r[o.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](o.parts[i]);for(;i<o.parts.length;i++)a.parts.push(addStyle(o.parts[i],e))}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(addStyle(o.parts[i],e));r[o.id]={id:o.id,refs:1,parts:s}}}}function listToStyles(t){for(var e=[],n={},r=0;r<t.length;r++){var o=t[r],a=o[0],i=o[1],s=o[2],c=o[3],l={css:i,media:s,sourceMap:c};n[a]?n[a].parts.push(l):e.push(n[a]={id:a,parts:[l]})}return e}function insertStyleElement(t,e){var n=i(),r=l[l.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),l.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function removeStyleElement(t){t.parentNode.removeChild(t);var e=l.indexOf(t);e>=0&&l.splice(e,1)}function createStyleElement(t){var e=document.createElement("style");return e.type="text/css",insertStyleElement(t,e),e}function createLinkElement(t){var e=document.createElement("link");return e.rel="stylesheet",insertStyleElement(t,e),e}function addStyle(t,e){var n,r,o;if(e.singleton){var a=c++;n=s||(s=createStyleElement(e)),r=applyToSingletonTag.bind(null,n,a,!1),o=applyToSingletonTag.bind(null,n,a,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=createLinkElement(e),r=updateLink.bind(null,n),o=function(){removeStyleElement(n),n.href&&URL.revokeObjectURL(n.href)}):(n=createStyleElement(e),r=applyToTag.bind(null,n),o=function(){removeStyleElement(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}function applyToSingletonTag(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=p(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}function applyToTag(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function updateLink(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var o=new Blob([n],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(o),a&&URL.revokeObjectURL(a)}var r={},o=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},a=o(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),i=o(function(){return document.head||document.getElementsByTagName("head")[0]}),s=null,c=0,l=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=a()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=listToStyles(t);return addStylesToDom(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var i=n[a],s=r[i.id];s.refs--,o.push(s)}if(t){var c=listToStyles(t);addStylesToDom(c,e)}for(var a=0;a<o.length;a++){var s=o[a];if(0===s.refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete r[s.id]}}}};var p=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()}});
//# sourceMappingURL=app.354d0b271ac580242366.js.map