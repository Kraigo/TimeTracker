<div class="container">
	<div class="page-header">
		<h2>Report</h2>
	</div>
    
	<div class="well">
		<div class="row">
			<div class="col-sm-3">
				<select class="form-control input-sm" [(ngModel)]="search.project">
                    <option value="">All Projects</option>
                    <option *ngFor="let project of projects" [ngValue]="project._id">{{project.title}}</option>
                </select>
			</div>
			<div class="col-sm-3"></div>
			<div class="col-sm-3"></div>
			<div class="col-sm-3"></div>
		</div>
	</div>

	<table class="table">
		<colgroup>
			<col width="80px">
			<col width="140px">
			<col>
			<col width="50px">
		</colgroup>
		<thead>
			<tr>
				<th>Date</th>
				<th>Project</th>
				<th>Description</th>
				<th>Time</th>
			</tr>
		</thead>


		<tbody class="report-tbody" *ngFor="let week of weeks">
            <tr *ngIf="(week.tasks | filter: search).length">
                <th colspan="3"><b>{{week.date | date: 'MMM dd'}} - {{week.dateEnd | date: 'MMM dd'}} (Week {{week.number}})</b></th>
                <th><b>{{week.tasks | filter: search | tasksTime | timeToDate | date:'HH:mm'}}</b></th>
            </tr>
			<tr *ngFor="let task of week.tasks | filter: search">
				<td>
					{{task.date | date : 'shortDate'}}
				</td>
				<td>
					{{(projects | taskProject : task) ? (projects | taskProject : task).title : null}}
				</td>
				<td>
					{{task.description}}
				</td>
				<td>{{task.time | timeToDate | date:'HH:mm'}}</td>
			</tr>
		</tbody>
		<!--<tbody>
			<tr>
				<td colspan="3" align="right">Total: {{tasks | filter: search | tasksTime | timeToDate | date:'HH:mm'}}</td>
			</tr>
		</tbody>-->
	</table>


</div>